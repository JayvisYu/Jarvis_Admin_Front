{"remainingRequest":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/src/views/setting/role.vue?vue&type=style&index=0&id=773b2122&lang=scss&scoped=true&","dependencies":[{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/src/views/setting/role.vue","mtime":1639748125468},{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jarvisyu/05_hobbies/Jarvis_Admin/frontend/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWRpYWxvZyB7CgkuZWwtZm9ybSB7CgkJbWFyZ2luOiAwIGF1dG87Cgl9Cn0KCi5lbC1wYWdpbmF0aW9uIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKCW1hcmdpbi10b3A6IDE1cHg7Cn0K"},{"version":3,"sources":["role.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAogBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"role.vue","sourceRoot":"src/views/setting","sourcesContent":["<template>\n\t<div class=\"role-container\">\n\t\t<el-card class=\"box-card\">\n\t\t\t<div\n\t\t\t\tslot=\"header\"\n\t\t\t\tclass=\"clearfix\"\n\t\t\t>\n\t\t\t\t<el-button\n\t\t\t\t\tstyle=\"float: left;\"\n\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t@click=\"addRolesVisible = true\"\n\t\t\t\t>创建用户</el-button>\n\t\t\t</div>\n\t\t\t<el-table\n\t\t\t\t:data=\"tableData\"\n\t\t\t\tborder\n\t\t\t\tstyle=\"width: 100%\"\n\t\t\t>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"username\"\n\t\t\t\t\tlabel=\"用户名\"\n\t\t\t\t\twidth=\"160\"\n\t\t\t\t>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"email\"\n\t\t\t\t\tlabel=\"邮箱\"\n\t\t\t\t\twidth=\"250\"\n\t\t\t\t>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"introduction\"\n\t\t\t\t\tlabel=\"介绍\"\n\t\t\t\t>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tprop=\"roles\"\n\t\t\t\t\tlabel=\"角色\"\n\t\t\t\t\twidth=\"180\"\n\t\t\t\t>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column\n\t\t\t\t\tfixed=\"right\"\n\t\t\t\t\tlabel=\"操作\"\n\t\t\t\t\twidth=\"180\"\n\t\t\t\t>\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\t@click=\"editRolesData(scope.row)\"\n\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>编辑权限</el-button>\n\t\t\t\t\t\t<el-button\n\t\t\t\t\t\t\t@click=\"delRolesData(scope.row)\"\n\t\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>删除</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<el-pagination\n\t\t\t\t@size-change=\"handleSizeChange\"\n\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\t:current-page=\"page\"\n\t\t\t\t:page-sizes=\"[5, 10, 15, 20]\"\n\t\t\t\t:page-size=\"limit\"\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t\t:total=\"total\"\n\t\t\t>\n\t\t\t</el-pagination>\n\t\t</el-card>\n\t\t<el-dialog\n\t\t\ttitle=\"添加用户\"\n\t\t\t:visible.sync=\"addRolesVisible\"\n\t\t\tv-el-drag-dialog\n\t\t\twidth=\"30%\"\n\t\t\tcenter\n\t\t\t:close-on-click-modal=\"false\"\n\t\t\t@dragDialog=\"handleDrag\"\n\t\t>\n\t\t\t<el-form\n\t\t\t\t:model=\"addRolesForm\"\n\t\t\t\t:rules=\"addRolesFormRules\"\n\t\t\t\tref=\"addRolesForm\"\n\t\t\t\tlabel-width=\"120px\"\n\t\t\t>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"用户名\"\n\t\t\t\t\tprop=\"username\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"addRolesForm.username\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"密码\"\n\t\t\t\t\tprop=\"password\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tv-model=\"addRolesForm.password\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"邮箱\"\n\t\t\t\t\tprop=\"email\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"addRolesForm.email\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"角色\"\n\t\t\t\t\tprop=\"roles\"\n\t\t\t\t>\n\t\t\t\t\t<el-select\n\t\t\t\t\t\tv-model=\"addRolesForm.roles\"\n\t\t\t\t\t\tclearable\n\t\t\t\t\t\tplaceholder=\"请选择\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\tv-for=\"item in rolesOptions\"\n\t\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t\t:label=\"item.label\"\n\t\t\t\t\t\t\t:value=\"item.value\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"介绍\"\n\t\t\t\t\tprop=\"introduction\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\tv-model=\"addRolesForm.introduction\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"头像\"\n\t\t\t\t\tprop=\"avatar\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"addRolesForm.avatar\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t@click=\"submitAddForm('addRolesForm')\"\n\t\t\t\t\t>立即创建</el-button>\n\t\t\t\t\t<el-button @click=\"resetAddForm('addRolesForm')\">重置</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</el-dialog>\n\t\t<el-dialog\n\t\t\ttitle=\"修改用户\"\n\t\t\t:visible.sync=\"editRolesVisible\"\n\t\t\tv-el-drag-dialog\n\t\t\twidth=\"30%\"\n\t\t\tcenter\n\t\t\t:close-on-click-modal=\"false\"\n\t\t\t@dragDialog=\"handleDrag\"\n\t\t>\n\t\t\t<el-form\n\t\t\t\t:model=\"editRolesForm\"\n\t\t\t\t:rules=\"editRolesFormRules\"\n\t\t\t\tref=\"editRolesForm\"\n\t\t\t\tlabel-width=\"120px\"\n\t\t\t>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"用户名\"\n\t\t\t\t\tprop=\"username\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"editRolesForm.username\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"密码\"\n\t\t\t\t\tprop=\"password\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tv-model=\"editRolesForm.password\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"邮箱\"\n\t\t\t\t\tprop=\"email\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"editRolesForm.email\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"角色\"\n\t\t\t\t\tprop=\"roles\"\n\t\t\t\t>\n\t\t\t\t\t<el-select\n\t\t\t\t\t\tv-model=\"editRolesForm.roles\"\n\t\t\t\t\t\tclearable\n\t\t\t\t\t\tplaceholder=\"请选择\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\tv-for=\"item in rolesOptions\"\n\t\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t\t:label=\"item.label\"\n\t\t\t\t\t\t\t:value=\"item.value\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"介绍\"\n\t\t\t\t\tprop=\"introduction\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\tv-model=\"editRolesForm.introduction\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item\n\t\t\t\t\tlabel=\"头像\"\n\t\t\t\t\tprop=\"avatar\"\n\t\t\t\t>\n\t\t\t\t\t<el-input\n\t\t\t\t\t\tv-model=\"editRolesForm.avatar\"\n\t\t\t\t\t\tstyle=\"width: 300px\"\n\t\t\t\t\t></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t@click=\"submitEditForm('editRolesForm')\"\n\t\t\t\t\t>提交修改</el-button>\n\t\t\t\t\t<el-button @click=\"resetEditForm('editRolesForm')\">重置</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</el-dialog>\n\t</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { Axios } from '@/api/axios'\nimport { Notification } from 'element-ui'\nimport elDragDialog from '@/directive/el-drag-dialog' // base on element-ui\nimport { validUsername, validEmail } from '@/utils/validate'\nimport { deepClone } from '@/utils'\n\nexport default {\n\tname: 'DigitalCurrency',\n\tdirectives: { elDragDialog },\n\tdata () {\n\t\tconst validateUsername = (rule, value, callback) => {\n\t\t\tif (!validUsername(value)) {\n\t\t\t\tcallback(new Error('请输入正确的用户名'))\n\t\t\t} else {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t\tconst validatePassword = (rule, value, callback) => {\n\t\t\tif (!value) {\n\t\t\t\tcallback(new Error('请输入密码'))\n\t\t\t}\n\t\t\telse if (value.length < 6) {\n\t\t\t\tcallback(new Error('请输入正确的密码'))\n\t\t\t} else {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t\tconst validateEmail = (rule, value, callback) => {\n\t\t\tif (!validEmail(value)) {\n\t\t\t\tcallback(new Error('请输入正确的邮箱'))\n\t\t\t} else {\n\t\t\t\tcallback()\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\t'message': '角色管理',\n\t\t\ttableData: [],\n\t\t\tpage: 1,\n\t\t\tlimit: 5,\n\t\t\ttotal: 0,\n\t\t\taddRolesVisible: false,\n\t\t\taddRolesForm: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: '',\n\t\t\t\temail: '',\n\t\t\t\troles: '',\n\t\t\t\tintroduction: '',\n\t\t\t\tavatar: ''\n\t\t\t},\n\t\t\taddRolesFormRules: {\n\t\t\t\tusername: [{ required: true, trigger: 'blur', validator: validateUsername }],\n\t\t\t\tpassword: [{ required: true, trigger: 'blur', validator: validatePassword }],\n\t\t\t\temail: [\n\t\t\t\t\t{ required: true, trigger: 'blur', validator: validateEmail }\n\t\t\t\t],\n\t\t\t\troles: [\n\t\t\t\t\t{ required: true, message: '请选择角色', trigger: 'change' }\n\t\t\t\t]\n\t\t\t},\n\t\t\trolesOptions: [{ label: '游客', value: 'visitor' },\n\t\t\t{ label: '初级用户', value: 'editor' }, { label: '管理员', value: 'admin' }, { label: '超级管理员', value: 'super_admin' }],\n\t\t\teditRolesVisible: false,\n\t\t\teditRolesForm: {},\n\t\t\teditRolesFormRules: {\n\t\t\t\tusername: [{ required: true, trigger: 'blur', validator: validateUsername }],\n\t\t\t\tpassword: [{ required: true, trigger: 'blur', validator: validatePassword }],\n\t\t\t\temail: [\n\t\t\t\t\t{ required: true, trigger: 'blur', validator: validateEmail }\n\t\t\t\t],\n\t\t\t\troles: [\n\t\t\t\t\t{ required: true, message: '请选择角色', trigger: 'change' }\n\t\t\t\t]\n\t\t\t},\n\t\t}\n\t},\n\tcomponents: {\n\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'roles'\n\t\t])\n\t},\n\twatch: {\n\t\t'$route': \"getList\"\n\t},\n\tcreated () {\n\t\tthis.getTableData()\n\t},\n\tmethods: {\n\t\tasync getTableData () {\n\t\t\tawait Axios({\n\t\t\t\turl: '/user/fetch_roles_list',\n\t\t\t\tmethod: 'get',\n\t\t\t\tparams: { limit: this.limit, page: this.page }\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t// Notification.success({\n\t\t\t\t\t// \ttitle: '成功',\n\t\t\t\t\t// \tmessage: '获取用户列表成功!'\n\t\t\t\t\t// })\n\t\t\t\t\tthis.tableData = res.data.user_table;\n\t\t\t\t\tthis.total = res.data.total\n\t\t\t\t} else {\n\t\t\t\t\tNotification.error({\n\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\tmessage: '获取用户列表失败!'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\tasync handleSizeChange (val) {\n\t\t\tthis.limit = val\n\t\t\tawait Axios({\n\t\t\t\turl: '/user/fetch_roles_list',\n\t\t\t\tmethod: 'get',\n\t\t\t\tparams: { limit: this.limit, page: this.page }\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t// Notification.success({\n\t\t\t\t\t// \ttitle: '成功',\n\t\t\t\t\t// \tmessage: '获取用户列表成功!'\n\t\t\t\t\t// })\n\t\t\t\t\tthis.tableData = res.data.user_table;\n\t\t\t\t\tthis.total = res.data.total\n\t\t\t\t} else {\n\t\t\t\t\tNotification.error({\n\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\tmessage: '获取用户列表失败!'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\tasync handleCurrentChange (val) {\n\t\t\tthis.page = val\n\t\t\tawait Axios({\n\t\t\t\turl: '/user/fetch_roles_list',\n\t\t\t\tmethod: 'get',\n\t\t\t\tparams: { limit: this.limit, page: this.page }\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t// Notification.success({\n\t\t\t\t\t// \ttitle: '成功',\n\t\t\t\t\t// \tmessage: '获取用户列表成功!'\n\t\t\t\t\t// })\n\t\t\t\t\tthis.tableData = res.data.user_table;\n\t\t\t\t\tthis.total = res.data.total\n\t\t\t\t} else {\n\t\t\t\t\tNotification.error({\n\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\tmessage: '获取用户列表失败!'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\thandleDrag () {\n\t\t\tthis.$refs.select.blur()\n\t\t},\n\t\tsubmitAddForm (formName) {\n\t\t\tthis.$refs[formName].validate(async valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tawait Axios({ url: '/user/add_user_data', method: 'post', data: JSON.stringify(this.addRolesForm) }).then(res => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tthis.addRolesVisible = false\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tNotification.success({\n\t\t\t\t\t\t\t\ttitle: '成功',\n\t\t\t\t\t\t\t\tmessage: '添加用户成功!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.resetAddForm(formName)\n\t\t\t\t\t\t\tthis.getTableData()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tNotification.error({\n\t\t\t\t\t\t\t\ttitle: '失败',\n\t\t\t\t\t\t\t\tmessage: '添加用户失败!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tNotification.error({\n\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\tmessage: '请填写必要的表单!'\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log('error submit!!');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tresetAddForm (formName) { this.$refs[formName].resetFields(); },\n\t\teditRolesData (val) {\n\t\t\tthis.editRolesForm = deepClone(val)\n\t\t\tthis.editRolesVisible = true\n\t\t},\n\t\tsubmitEditForm (formName) {\n\t\t\tthis.$refs[formName].validate(async valid => {\n\t\t\t\tif (valid) {\n\t\t\t\t\tconsole.log(this.editRolesForm);\n\t\t\t\t\tawait Axios({ url: '/user/edit_user_data', method: 'post', data: JSON.stringify(this.editRolesForm) }).then(res => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tthis.editRolesVisible = false\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tNotification.success({\n\t\t\t\t\t\t\t\ttitle: '成功',\n\t\t\t\t\t\t\t\tmessage: '修改用户成功!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.resetEditForm(formName)\n\t\t\t\t\t\t\tthis.getTableData()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tNotification.error({\n\t\t\t\t\t\t\t\ttitle: '失败',\n\t\t\t\t\t\t\t\tmessage: '修改用户失败!'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tNotification.error({\n\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\tmessage: '请填写必要的表单!'\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log('error submit!!');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tresetEditForm (formName) { this.$refs[formName].resetFields(); },\n\t\tasync delRolesData (val) {\n\t\t\tconsole.log(val);\n\t\t\tawait Axios({ url: '/user/delete_user_data', method: 'get', params: { 'uuid': val.uuid } }).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tNotification.success({\n\t\t\t\t\t\ttitle: '成功',\n\t\t\t\t\t\tmessage: '删除用户成功!'\n\t\t\t\t\t})\n\t\t\t\t\tthis.getTableData()\n\t\t\t\t} else {\n\t\t\t\t\tNotification.error({\n\t\t\t\t\t\ttitle: '失败',\n\t\t\t\t\t\tmessage: '删除用户失败!'\n\t\t\t\t\t})\n\t\t\t\t\tthis.getTableData()\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t}\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-dialog {\n\t.el-form {\n\t\tmargin: 0 auto;\n\t}\n}\n\n.el-pagination {\n\ttext-align: center;\n\tmargin-top: 15px;\n}\n</style>\n"]}]}